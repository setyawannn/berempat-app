<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Dashboard</title>

  <!-- Bootstrap 5 CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome Icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --sidebar-width: 280px;
      --sidebar-collapsed-width: 70px;
      --navbar-height: 70px;
      --primary-color: #0e6dfd;
      --primary-dark: #4f46e5;
      --secondary-color: #8b5cf6;
      --success-color: #10b981;
      --warning-color: #f59e0b;
      --danger-color: #ef4444;
      --dark-color: #1f2937;
      --light-color: #f8fafc;
      --border-color: #e5e7eb;
      --text-color: #374151;
      --text-muted: #6b7280;
      --sidebar-bg: #ffffff;
      --content-bg: #f8fafc;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--content-bg);
      overflow-x: hidden;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: var(--sidebar-width);
      height: 100vh;
      background: var(--sidebar-bg);
      border-right: 1px solid var(--border-color);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
    }

    .sidebar.collapsed {
      width: var(--sidebar-collapsed-width);
    }

    .sidebar-header {
      height: var(--navbar-height);
      padding: 0 1.5rem;
      display: flex;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      background: var(--primary-color);
    }

    .sidebar-brand {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: white;
      font-weight: 700;
      font-size: 1.25rem;
      transition: all 0.3s ease;
    }

    .sidebar-brand i {
      font-size: 1.5rem;
      margin-right: 0.75rem;
      transition: all 0.3s ease;
    }

    .sidebar.collapsed .sidebar-brand span {
      opacity: 0;
      width: 0;
      overflow: hidden;
    }

    .sidebar.collapsed .sidebar-brand i {
      margin-right: 0;
    }

    .sidebar-menu {
      padding: 1rem 0;
      height: calc(100vh - var(--navbar-height));
      overflow-y: auto;
      overflow-x: hidden;
    }

    .sidebar-menu::-webkit-scrollbar {
      width: 4px;
    }

    .sidebar-menu::-webkit-scrollbar-track {
      background: transparent;
    }

    .sidebar-menu::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 2px;
    }

    /* Sub-menu Styles */
    .menu-item {
      margin: 0.25rem 0;
      position: relative;
    }

    .has-submenu > .menu-link {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .has-submenu > .menu-link::after {
      content: '\f107';
      font-family: 'Font Awesome 5 Free';
      font-weight: 900;
      margin-left: 10px;
      transition: transform 0.3s ease;
      flex-shrink: 0; 
    }

    .has-submenu.open > .menu-link::after {
      transform: rotate(180deg);
    }

    .submenu {
      padding-left: 2.5rem;
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.3s ease;
      flex-shrink: 0;
    }

    .submenu.open {
      max-height: 500px;
    }

    .submenu-item {
      margin: 0.25rem 0;
    }

    .submenu-link {
      display: flex;
      align-items: center;
      padding: 0.6rem 1.5rem;
      color: var(--text-muted);
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      border-radius: 6px;
      margin: 0 1rem;
      font-size: 0.9rem;
    }

    .submenu-link:hover {
      background: rgba(14, 109, 253, 0.1);
      color: var(--primary-color);
      transform: translateX(5px);
    }

    .submenu-link.active {
      background: rgba(14, 109, 253, 0.15);
      color: var(--primary-color);
      font-weight: 500;
    }

    .sidebar.collapsed .submenu {
      position: absolute;
      left: 100%;
      top: 0;
      width: 200px;
      background: white;
      border-radius: 0 6px 6px 0;
      box-shadow: 5px 0 15px rgba(0, 0, 0, 0.1);
      padding-left: 0;
      z-index: 1;
      opacity: 0;
      visibility: hidden;
      max-height: none;
    }

    .sidebar.collapsed .menu-item.has-submenu:hover .submenu {
      opacity: 1;
      visibility: visible;
    }

    .sidebar.collapsed .submenu-link {
      padding: 0.6rem 1rem;
    }

    .menu-item.has-active-submenu > .menu-link {
      background: var(--primary-color);
      color: white;
      opacity: 0.85;
    }

    .menu-link {
      display: flex;
      align-items: center;
      padding: 0.875rem 1.5rem;
      color: var(--text-color);
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      border-radius: 6px;
      margin: 0 1rem;
    }

    .menu-link:hover {
      background: var(--primary-color);
      color: white;
      transform: translateX(5px);
    }

    .menu-link.active {
      background: var(--primary-color);
      color: white;
      box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
    }

    .menu-link i {
      width: 20px;
      margin-right: 0.875rem;
      font-size: 1.1rem;
      transition: all 0.3s ease;
    }

    .menu-text {
      transition: all 0.3s ease;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      width: 100%;
    }

    .sidebar.collapsed .menu-text {
      opacity: 0;
      width: 0;
      overflow: hidden;
    }

    .sidebar.collapsed .menu-link {
      justify-content: center;
      margin-right: 0;
      border-radius: 8px;
      margin: 0.25rem 0.5rem;
    }

    .sidebar.collapsed .menu-link i {
      margin-right: 0;
    }

    .main-content {
      margin-left: var(--sidebar-width);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      min-height: 100vh;
    }

    .main-content.sidebar-collapsed {
      margin-left: var(--sidebar-collapsed-width);
    }

    /* Top Navbar */
    .top-navbar {
      height: var(--navbar-height);
      background: white;
      border-bottom: 1px solid var(--border-color);
      padding: 0 1.5rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      position: sticky;
      top: 0;
      z-index: 999;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .navbar-left {
      display: flex;
      align-items: center;
    }

    .sidebar-toggle {
      background: none;
      border: none;
      font-size: 1.25rem;
      color: var(--text-color);
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      margin-right: 1rem;
    }

    .sidebar-toggle:hover {
      background: var(--light-color);
      color: var(--primary-color);
    }

    .navbar-search {
      position: relative;
      margin-left: 1rem;
    }

    .search-input {
      width: 300px;
      padding: 0.625rem 1rem 0.625rem 2.5rem;
      border: 1px solid var(--border-color);
      border-radius: 25px;
      background: var(--light-color);
      transition: all 0.3s ease;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
      width: 350px;
    }

    .search-icon {
      position: absolute;
      left: 0.875rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--text-muted);
    }

    .navbar-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .navbar-item {
      position: relative;
      cursor: pointer;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .navbar-item:hover {
      background: var(--light-color);
    }

    .notification-badge {
      position: absolute;
      top: 0.25rem;
      right: 0.25rem;
      width: 8px;
      height: 8px;
      background: var(--danger-color);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    .user-profile {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      padding: 0.5rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .user-profile:hover {
      background: var(--light-color);
    }

    .user-avatar {
      width: 35px;
      height: 35px;
      border-radius: 50%;
      background: var(--primary-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 600;
    }

    /* Content Area */
    .content-area {
      padding: 2rem;
      height: calc(100vh - var(--navbar-height));
      overflow-y: auto;
    }

    .content-area::-webkit-scrollbar {
      width: 6px;
    }

    .content-area::-webkit-scrollbar-track {
      background: transparent;
    }

    .content-area::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .content-area::-webkit-scrollbar-thumb:hover {
      background: var(--text-muted);
    }

    /* Dashboard Cards */
    .dashboard-card {
      background: white;
      border-radius: 12px;
      padding: 1.5rem;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
      border: 1px solid var(--border-color);
      transition: all 0.3s ease;
      height: 100%;
    }

    .dashboard-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
    }

    .card-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 1rem;
    }

    .card-title {
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--text-color);
    }

    .stat-card {
      text-align: center;
    }

    .stat-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 1rem;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
    }

    .stat-number {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-color);
      margin-bottom: 0.5rem;
    }

    .stat-label {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .chart-container {
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 8px;
      color: var(--text-muted);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .navbar-search .search-input {
        width: 200px;
      }

      .navbar-search .search-input:focus {
        width: 250px;
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
        box-shadow: none;
      }

      .sidebar.show {
        transform: translateX(0);
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.3);
      }

      .main-content {
        margin-left: 0;
      }

      .main-content.sidebar-collapsed {
        margin-left: 0;
      }

      .navbar-search {
        display: none;
      }

      .content-area {
        padding: 1rem;
      }

      .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .sidebar-overlay.show {
        opacity: 1;
        visibility: visible;
      }
    }

    @media (max-width: 576px) {
      .user-profile .user-name {
        display: none;
      }

      .content-area {
        padding: 0.75rem;
      }

      .stat-number {
        font-size: 1.5rem;
      }
    }

    /* Animation Classes */
    .fade-in {
      animation: fadeIn 0.6s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .slide-in-left {
      animation: slideInLeft 0.5s ease-out;
    }

    @keyframes slideInLeft {
      from {
        opacity: 0;
        transform: translateX(-30px);
      }

      to {
        opacity: 1;
        transform: translateX(0);
      }
    }
  </style>
</head>

<body>
  <!-- Sidebar Overlay for Mobile -->
  <div class="sidebar-overlay" id="sidebarOverlay"></div>

  <!-- Sidebar -->
  <nav class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <a href="#" class="sidebar-brand">
        <i class="fas fa-cube"></i>
        <span>Berempat</span>
      </a>
    </div>
    <div class="sidebar-menu">
      <div class="menu-item">
        <a href="index.html" class="menu-link">
          <i class="fas fa-tachometer-alt"></i>
          <span class="menu-text">Dashboard</span>
        </a>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-users"></i>
          <span class="menu-text">Users</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="users-list.html" class="submenu-link active">
              <span>List User</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="profile.html" class="submenu-link">
              <span>My Profile</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-file-alt"></i>
          <span class="menu-text">Laporan</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="laporan-aktivitas.html" class="submenu-link">
              <span>Aktivitas Pengiriman</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="laporan-kehadiran.html" class="submenu-link">
              <span>Kehadiran Pengiriman</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="laporan-stock.html" class="submenu-link">
              <span>Stock Pengiriman</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-user-friends"></i>
          <span class="menu-text">Penerima</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="penerima-list.html" class="submenu-link">
              <span>List Penerima</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="penerima-kategori.html" class="submenu-link">
              <span>Kategori Penerima</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-map-marker-alt"></i>
          <span class="menu-text">Lokasi</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="lokasi-region.html" class="submenu-link">
              <span>Region</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="lokasi-area.html" class="submenu-link">
              <span>Area</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="lokasi-subarea.html" class="submenu-link">
              <span>Sub Area</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-truck"></i>
          <span class="menu-text">Rencana Pengiriman</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="rencana-pengiriman.html" class="submenu-link">
              <span>Rencana Pengiriman</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="penerima-manfaat.html" class="submenu-link">
              <span>Penerima Manfaat</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="absensi-pengirim.html" class="submenu-link">
              <span>Absensi Pengirim</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-box"></i>
          <span class="menu-text">Produk</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="produk-list.html" class="submenu-link">
              <span>List Produk</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="produk-tipe.html" class="submenu-link">
              <span>Tipe Produk</span>
            </a>
          </div>
        </div>
      </div>
      <div class="menu-item has-submenu">
        <a href="#" class="menu-link">
          <i class="fas fa-warehouse"></i>
          <span class="menu-text">Stock</span>
        </a>
        <div class="submenu">
          <div class="submenu-item">
            <a href="gudang-list.html" class="submenu-link">
              <span>List Gudang</span>
            </a>
          </div>
          <div class="submenu-item">
            <a href="stock-pengirim.html" class="submenu-link">
              <span>List Stock Pengirim</span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <div class="main-content" id="mainContent">
    <!-- Top Navbar -->
    <header class="top-navbar">
      <div class="navbar-left">
        <button class="sidebar-toggle" id="sidebarToggle">
          <i class="fas fa-bars"></i>
        </button>
        <div class="navbar-search">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="Search...">
        </div>
      </div>
      <div class="navbar-right">
        <div class="navbar-item">
          <i class="fas fa-bell"></i>
          <span class="notification-badge"></span>
        </div>
        <div class="navbar-item">
          <i class="fas fa-envelope"></i>
          <span class="notification-badge"></span>
        </div>
        <div class="user-profile">
          <div class="user-avatar">JD</div>
          <div class="user-info">
            <div class="user-name" style="font-weight: 500; font-size: 0.875rem;">John Doe</div>
            <div style="font-size: 0.75rem; color: var(--text-muted);">Admin</div>
          </div>
          <i class="fas fa-chevron-down" style="font-size: 0.75rem; color: var(--text-muted);"></i>
        </div>
      </div>
    </header>

    <!-- Content Area -->
    <main class="content-area">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-9">
              <div class="row mb-4">
                <div class="col-xl-4 col-md-6 mb-4">
                  <div class="dashboard-card stat-card slide-in-left">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--primary-color), #6fa7fc);" >
                      <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number">420</div>
                    <div class="stat-label">Total Users</div>
                  </div>
                </div>
                <div class="col-xl-4 col-md-6 mb-4">
                  <div class="dashboard-card stat-card slide-in-left" style="animation-delay: 0.1s;">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--success-color), #34d399);">
                      <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number">150</div>
                    <div class="stat-label">Active Surveyor</div>
                  </div>
                </div>
                <div class="col-xl-4 col-md-6 mb-4">
                  <div class="dashboard-card stat-card slide-in-left" style="animation-delay: 0.2s;">
                    <div class="stat-icon" style="background: linear-gradient(135deg, var(--warning-color), #fbbf24);">
                      <i class="fas fa-users"></i>
                    </div>
                    <div class="stat-number">270</div>
                    <div class="stat-label">Active Deliverman</div>
                  </div>
                </div>
              </div>

              <!-- Charts Section -->
              <div class="row mb-4">
                <div class="col-xl-12 mb-4">
                  <div class="dashboard-card fade-in pb-2">
                    <div class="card-header">
                      <h5 class="card-title">Develiver Overview</h5>
                      <div class="dropdown">
                        <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button">
                          Last 7 days
                        </button>
                      </div>
                    </div>
                    <div class="chart-container" style="position: relative; height:300px; padding: 20px;">
                      <canvas id="salesStockChart"></canvas>
                    </div>
                  </div>
                </div>
              </div>
          </div>
          <div class="col-md-3">
            <div class="row mb-4">
              <div class="col-xl-12">
                <div class="dashboard-card fade-in">
                  <div class="card-header">
                    <h5 class="card-title">Journey Plan Proggress</h5>
                  </div>
                  <div class="mt-3">
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Sawojajar</div>
                        <small class="text-success">75%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-success" role="progressbar" aria-label="Success example" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Kayutangan</div>
                        <small class="text-success">63%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-success" role="progressbar" aria-label="success example" style="width: 63%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Kedungkandang</div>
                        <small class="text-success">55%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-success" role="progressbar" aria-label="success example" style="width: 55%" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Klojen</div>
                        <small class="text-warning">45%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-warning" role="progressbar" aria-label="warning example" style="width: 45%" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Blimbing</div>
                        <small class="text-warning">40%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-warning" role="progressbar" aria-label="warning example" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center py-2 border-bottom">
                        <div class="fw-medium">Lowokwaru</div>
                        <small class="text-warning">33%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-warning" role="progressbar" aria-label="warning example" style="width: 33%" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                    <div class="justify-content-between align-items-center pt-2 pb-5">
                        <div class="fw-medium">Sukun</div>
                        <small class="text-danger">19%</small>
                        <div class="progress" style="height: 8px;">
                          <div class="progress-bar bg-danger" role="progressbar" aria-label="danger example" style="width: 19%" aria-valuenow="19" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row mb-4">
          <div class="col-xl-9 mb-4">
            <div class="dashboard-card fade-in">
              <div class="card-header">
                  <h5 class="card-title">RealTime Transaction</h5>
                  <div class="dropdown">
                      <button class="btn btn-sm btn-outline-secondary dropdown-toggle" type="button" id="timeRangeDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                          Last 30 Mins
                      </button>
                      <ul class="dropdown-menu" aria-labelledby="timeRangeDropdown">
                          <li><a class="dropdown-item" href="#">Last 30 Mins</a></li>
                          <li><a class="dropdown-item" href="#">Last Hour</a></li>
                          <li><a class="dropdown-item" href="#">Today</a></li>
                      </ul>
                  </div>
              </div>
              <div class="chart-container">
                  <canvas id="realtimeTransactionChart"></canvas>
              </div>
          </div>
          </div>
            <div class="col-xl-3 mb-4">
              <div class="dashboard-card fade-in">
                <div class="card-header">
                    <h5 class="card-title">Product Delivered</h5>
                </div>
                <div class="chart-container">
                    <canvas id="productDeliveredChart"></canvas>
                </div>
            </div>
          </div>
        </div>
        

        <!-- Recent Activity -->
        <div class="row">
          <div class="col-12">
            <div class="dashboard-card fade-in">
              <div class="card-header">
                <h5 class="card-title">Recent Activity</h5>
              </div>
              <div class="table-responsive">
                <table class="table table-hover">
                  <thead>
                    <tr>
                      <th>User</th>
                      <th>Action</th>
                      <th>Date</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>
                        <div class="d-flex align-items-center">
                          <div class="user-avatar me-3" style="width: 30px; height: 30px; font-size: 0.75rem;">AB</div>
                          <div>
                            <div class="fw-medium">Alice Brown</div>
                            <small class="text-muted">Surveyor</small>
                          </div>
                        </div>
                      </td>
                      <td>Add new Journey</td>
                      <td>2 minutes ago</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex align-items-center">
                          <div class="user-avatar me-3"
                            style="width: 30px; height: 30px; font-size: 0.75rem; background: linear-gradient(135deg, var(--warning-color), #fbbf24);">
                            CD</div>
                          <div>
                            <div class="fw-medium">Charlie Davis</div>
                            <small class="text-muted">Deliverman</small>
                          </div>
                        </div>
                      </td>
                      <td>Delivered Beras 5Kg</td>
                      <td>15 minutes ago</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex align-items-center">
                          <div class="user-avatar me-3"
                            style="width: 30px; height: 30px; font-size: 0.75rem; background: linear-gradient(135deg, var(--warning-color), #fbbf24);">
                            CD</div>
                          <div>
                            <div class="fw-medium">Charlie Davis</div>
                            <small class="text-muted">Deliverman</small>
                          </div>
                        </div>
                      </td>
                      <td>Delivered Beras 5Kg</td>
                      <td>23 minutes ago</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex align-items-center">
                          <div class="user-avatar me-3"
                            style="width: 30px; height: 30px; font-size: 0.75rem; background: linear-gradient(135deg, var(--warning-color), #fbbf24);">
                            CD</div>
                          <div>
                            <div class="fw-medium">Charlie Davis</div>
                            <small class="text-muted">Deliverman</small>
                          </div>
                        </div>
                      </td>
                      <td>Delivered Beras 5Kg</td>
                      <td>30 minutes ago</td>
                    </tr>
                    <tr>
                      <td>
                        <div class="d-flex align-items-center">
                          <div class="user-avatar me-3"
                            style="width: 30px; height: 30px; font-size: 0.75rem; background: linear-gradient(135deg, var(--danger-color), #f87171);">
                            EF</div>
                          <div>
                            <div class="fw-medium">Eva Foster</div>
                            <small class="text-muted">Team Leader</small>
                          </div>
                        </div>
                      </td>
                      <td>Create New Journey Plan</td>
                      <td>1 hour ago</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

  <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

  <!-- Bootstrap 5 JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>

  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    $(document).ready(function () {
      // Existing sidebar toggle code
      $('#sidebarToggle').on('click', function () {
        const sidebar = $('#sidebar');
        const mainContent = $('#mainContent');
        const sidebarOverlay = $('#sidebarOverlay');

        if ($(window).width() <= 768) {
          // Mobile behavior
          sidebar.toggleClass('show');
          sidebarOverlay.toggleClass('show');
        } else {
          // Desktop behavior
          sidebar.toggleClass('collapsed');
          mainContent.toggleClass('sidebar-collapsed');
        }
      });

      $('#sidebarOverlay').on('click', function () {
        $('#sidebar').removeClass('show');
        $(this).removeClass('show');
      });

      $('.has-submenu > .menu-link').on('click', function (e) {
        e.preventDefault();
        const parent = $(this).parent();
        
        if (!$('#sidebar').hasClass('collapsed')) {
          parent.toggleClass('open');
          parent.find('.submenu').toggleClass('open');
        }
      });

      function setActiveMenu() {
        const currentUrl = window.location.pathname;
        const filename = currentUrl.substring(currentUrl.lastIndexOf('/') + 1);
        
        $('.menu-link, .submenu-link').removeClass('active');
        $('.menu-item').removeClass('has-active-submenu');
        
        $('.menu-link').each(function() {
          const href = $(this).attr('href');
          if (href === filename || href === currentUrl) {
            $(this).addClass('active');
          }
        });
        
        // Then check for submenu items
        $('.submenu-link').each(function() {
          const href = $(this).attr('href');
          if (href === filename || href === currentUrl) {
            $(this).addClass('active');
            // Also mark parent as having active submenu
            $(this).closest('.menu-item').addClass('has-active-submenu');
            // Open the submenu
            if (!$('#sidebar').hasClass('collapsed')) {
              $(this).closest('.submenu').addClass('open');
              $(this).closest('.has-submenu').addClass('open');
            }
          }
        });
        
        // If no match found, default to dashboard
        if (!$('.menu-link.active, .submenu-link.active').length) {
          $('[href="index.html"]').addClass('active');
        }
      }
      
      // Call on page load
      setActiveMenu();
      
      // Handle menu clicks with animation
      $('.menu-link:not(.has-submenu > .menu-link), .submenu-link').on('click', function (e) {
        // Only prevent default if it's a dummy link
        if ($(this).attr('href') === '#') {
          e.preventDefault();
        }

        // Add active class to clicked item
        $('.menu-link, .submenu-link').removeClass('active');
        $(this).addClass('active');
        
        // If it's a submenu link, mark parent
        if ($(this).hasClass('submenu-link')) {
          $(this).closest('.menu-item').addClass('has-active-submenu');
        }

        // Add smooth animation
        $(this).addClass('slide-in-left');
        setTimeout(() => {
          $(this).removeClass('slide-in-left');
        }, 500);

        // Close sidebar on mobile after selection
        if ($(window).width() <= 768) {
          $('#sidebar').removeClass('show');
          $('#sidebarOverlay').removeClass('show');
        }
      });

      // Existing search input code
      $('.search-input').on('focus', function () {
        $(this).parent().addClass('focused');
      }).on('blur', function () {
        $(this).parent().removeClass('focused');
      });
    });

  </script>
  
  <script>
    $(document).ready(function() {
      const ctx = $('#salesStockChart')[0].getContext('2d');
      
      const dates = ['2023-06-01', '2023-06-02', '2023-06-03', '2023-06-04', '2023-06-05', '2023-06-06', '2023-06-07'];
      const salesData = [1200, 1900, 1500, 2000, 1800, 2500, 2200];
      const stockData = [5000, 4800, 4500, 4300, 4000, 3800, 4200];
      
      const salesStockChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: dates,
          datasets: [
            {
              label: 'Deliver',
              data: salesData,
              borderColor: 'rgba(14, 109, 253, 1)', 
              backgroundColor: 'rgba(14, 109, 253, 0.1)',
              borderWidth: 2,
              tension: 0.4,
              fill: false
            },
            {
              label: 'Stock', 
              data: stockData,
              borderColor: 'rgba(16, 185, 129, 1)',  // Green color
              backgroundColor: 'rgba(16, 185, 129, 0.1)',
              borderWidth: 2,
              tension: 0.4,
              fill: false
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          interaction: {
            mode: 'index',
            intersect: false,
          },
          plugins: {
            tooltip: {
              mode: 'index',
              intersect: false
            },
            legend: {
              position: 'top',
              labels: {
                usePointStyle: true,
                boxWidth: 6
              }
            },
          },
          scales: {
            x: {
              grid: {
                display: false
              },
              ticks: {
                maxRotation: 0,
                autoSkip: true,
                maxTicksLimit: 7
              }
            },
            y: {
              beginAtZero: true,
              grid: {
                borderDash: [2, 4],
                drawBorder: false
              },
              ticks: {
                callback: function(value) {
                  return value >= 1000 ? value / 1000 + 'k' : value;
                }
              }
            }
          }
        }
      });

      const ctxProductDelivered = $('#productDeliveredChart').get(0).getContext('2d');
            const productData = {
                labels: ['Beras 5kg', 'Beras 3kg', 'Gula 1kg', 'Minyak Goreng 2L', 'Telur 1kg', 'Mie Instan (Box)'],
                datasets: [{
                    label: 'PCS Delivered',
                    data: [120, 95, 150, 75, 60, 110], 
                    backgroundColor: [ 
                        'rgba(13, 110, 253, 0.7)',  // Primary
                        'rgba(25, 135, 84, 0.7)',  // Success
                        'rgba(255, 193, 7, 0.7)',   // Warning
                        'rgba(13, 202, 240, 0.7)',  // Info
                        'rgba(220, 53, 69, 0.7)',   // Danger
                        'rgba(108, 117, 125, 0.7)'  // Secondary
                    ],
                    borderColor: [ 
                        'rgba(13, 110, 253, 1)',
                        'rgba(25, 135, 84, 1)',
                        'rgba(255, 193, 7, 1)',
                        'rgba(13, 202, 240, 1)',
                        'rgba(220, 53, 69, 1)',
                        'rgba(108, 117, 125, 1)'
                    ],
                    borderWidth: 1,
                    hoverOffset: 8 
                }]
            };

            new Chart(ctxProductDelivered, {
                type: 'doughnut',
                data: productData,
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    cutout: '60%', 
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                usePointStyle: true,
                                boxWidth: 10,
                                padding: 15
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + ' PCS';
                                    }
                                    return label;
                                }
                            }
                        },
                        title: { // Optional: Add a title directly to the chart
                            display: false, // Set to true to show title
                            text: 'Product Delivery Breakdown',
                            padding: {
                                top: 10,
                                bottom: 10
                            },
                            font: {
                                size: 16
                            }
                        }
                    }
                }
            });
    });
  </script>

<script>
  $(document).ready(function() {
      const ctx = $('#realtimeTransactionChart')[0].getContext('2d');

      function formatTime(date) {
          let hours = date.getHours().toString().padStart(2, '0');
          let minutes = date.getMinutes().toString().padStart(2, '0');
          return `${hours}:${minutes}`;
      }

      const timeLabels = [];
      const productPcsData = []; 
      const now = new Date();
      now.setMinutes(Math.floor(now.getMinutes() / 5) * 5);
      now.setSeconds(0);
      now.setMilliseconds(0);

      for (let i = 0; i < 6; i++) { 
          const pastTime = new Date(now.getTime() - ((5 - i) * 5 * 60 * 1000));
          timeLabels.push(formatTime(pastTime));
          productPcsData.push(Math.floor(Math.random() * 150) + 20);
      }

      const realtimeTransactionChart = new Chart(ctx, {
          type: 'bar',
          data: {
              labels: timeLabels,
              datasets: [{
                  label: 'PCS Product Deliver',
                  data: productPcsData,
                  backgroundColor: 'rgba(13, 110, 253, 0.9)',
                  borderColor: 'rgba(13, 110, 253, 1)',
                  borderWidth: 1,
                  borderRadius: 4,
                  barPercentage: 0.6,
                  categoryPercentage: 0.7
              }]
          },
          options: {
              responsive: true,
              maintainAspectRatio: false,
              interaction: {
                  mode: 'index',
                  intersect: false,
              },
              plugins: {
                  tooltip: {
                      mode: 'index',
                      intersect: false,
                      backgroundColor: '#fff',
                      titleColor: '#333',
                      bodyColor: '#555',
                      borderColor: '#ddd',
                      borderWidth: 1,
                      padding: 10,
                      cornerRadius: 4,
                      callbacks: {
                          label: function(context) {
                              let label = context.dataset.label || '';
                              if (label) {
                                  label += ': ';
                              }
                              if (context.parsed.y !== null) {
                                  label += new Intl.NumberFormat('en-US').format(context.parsed.y) + ' Pcs';
                              }
                              return label;
                          }
                      }
                  },
                  legend: {
                      display: true,
                      position: 'top',
                      labels: {
                          usePointStyle: true,
                          boxWidth: 8,
                          padding: 15,
                          color: '#333'
                      }
                  },
              },
              scales: {
                  x: {
                      grid: {
                          display: false
                      },
                      ticks: {
                          color: '#555',
                          maxRotation: 0,
                          autoSkip: true,
                          maxTicksLimit: 6
                      }
                  },
                  y: {
                      beginAtZero: true,
                      grid: {
                          borderDash: [3, 3],
                          drawBorder: false,
                          color: '#e0e0e0'
                      },
                      ticks: {
                          color: '#555',
                          callback: function(value) {
                              if (Number.isInteger(value)) { 
                                  if (value >= 1000) {
                                      return (value / 1000) + 'k';
                                  }
                                  return value;
                              }
                              return null; 
                          }
                      }
                  }
              }
          }
      });
  });
</script>